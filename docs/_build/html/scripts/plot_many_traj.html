

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>plot_many_traj &mdash; Process and Plot Scripts 1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script type="text/javascript" src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="plot_trajectories" href="plot_trajectories.html" />
    <link rel="prev" title="plot_heat" href="plot_heat.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../index.html" class="icon icon-home"> Process and Plot Scripts
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Python Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get_deriv_info.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">get_deriv_info</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="loader.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">loader</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="filter_more.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">filter_more</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="plot_heat.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">plot_heat</span></code></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">plot_many_traj</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="plot_trajectories.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">plot_trajectories</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="executing.html">Executing Scripts</a></li>
</ul>
<p class="caption"><span class="caption-text">Grouped C++ Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../groups/rk.html">Runge-Kutta 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groups/ufunc.html">User Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groups/io.html">Input/Output Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groups/parametrizations.html">Physical Parametrizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groups/types.html">Custom Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groups/general.html">General Functions</a></li>
</ul>
<p class="caption"><span class="caption-text">Example Results</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../results/traj0.html">Example Results for a Single Trajectory</a></li>
</ul>
<p class="caption"><span class="caption-text">Full C++ Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/library_root.html">C++ API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Process and Plot Scripts</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">plot_many_traj</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/scripts/plot_many_traj.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="plot-many-traj">
<h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">plot_many_traj</span></code><a class="headerlink" href="#plot-many-traj" title="Permalink to this headline">¶</a></h1>
<p>Load derivatives of a simulation or a netCDF file and plot trajectories over satellite images.
Usage:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-c</span></code>, <code class="docutils literal notranslate"><span class="pre">--csv</span></code>: Load an already processed csv file with derivatives.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-n</span></code>, <code class="docutils literal notranslate"><span class="pre">--netcdf</span></code>: Path to a netCDF file. If you want to plot derivatives from a csv file that lacks <code class="docutils literal notranslate"><span class="pre">LONGITUDE</span></code> and <code class="docutils literal notranslate"><span class="pre">LATITUDE</span></code>, you need to provide a netCDF file with that information.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-o</span></code>, <code class="docutils literal notranslate"><span class="pre">--output</span></code>: Directory and name to save the image.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-t</span></code>, <code class="docutils literal notranslate"><span class="pre">--trajectory</span></code>: A list of trajectories to consider here. Using a selected number of trajectories helps reducing the amount of used RAM and makes it easier to see anything in the image.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-r</span></code>, <code class="docutils literal notranslate"><span class="pre">--rotate</span></code>: Rotate longitude and latitude coordinates.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--out_transformed</span></code>: In case the csv file had to be transformed because of missing coordinates, store this as a new csv file. Set to “None” if you don’t want to store it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--input_param</span></code>: A list of input parameters of the model to plot such as “dzeta” or “dbeta_r”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--output_param</span></code>: A list of output parameters of the model to plot such as “T”, “qr” or “p”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--max_time</span></code>: Maximum time in seconds to plot.</p></li>
</ul>
<span class="target" id="module-scripts.plot_many_traj"></span><dl class="function">
<dt id="scripts.plot_many_traj.chi_squared">
<code class="sig-prename descclassname">scripts.plot_many_traj.</code><code class="sig-name descname">chi_squared</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">out_param</em><span class="sig-paren">)</span><a class="headerlink" href="#scripts.plot_many_traj.chi_squared" title="Permalink to this definition">¶</a></dt>
<dd><p>Do a chi-squared test for a given out_param along all (important)
trajectories for each in_param.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.Dataframe</em>) – A pandas dataframe with columns
trajectory, timestep, out_param, in_param, deriv</p></li>
<li><p><strong>out_param</strong> (<em>string</em>) – Output parameter to get the chi-squared matrix such as “qr”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary for each in_param as keys and a tupel with a matrix of
chi_squared values and the p-values as result.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dic of tuples of 2D np.ndarrays</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="scripts.plot_many_traj.correlation">
<code class="sig-prename descclassname">scripts.plot_many_traj.</code><code class="sig-name descname">correlation</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">out_param</em><span class="sig-paren">)</span><a class="headerlink" href="#scripts.plot_many_traj.correlation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the correlation for a given out_param along all (important)
trajectories for each in_param.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.Dataframe</em>) – A pandas dataframe with columns
trajectory, timestep, out_param, in_param, deriv</p></li>
<li><p><strong>out_param</strong> (<em>string</em>) – Output parameter to get the correlation matrix for such as “qr”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary for each in_param as keys and a correlation matrix.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dic of 2D np.ndarrays</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="scripts.plot_many_traj.plot_avg_df">
<code class="sig-prename descclassname">scripts.plot_many_traj.</code><code class="sig-name descname">plot_avg_df</code><span class="sig-paren">(</span><em class="sig-param">df</em><span class="sig-paren">)</span><a class="headerlink" href="#scripts.plot_many_traj.plot_avg_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a heatmap with summed and normalized derivatives where the
x-axis is the trajectories,
the y-axis are the input parameters and the color indicates the
size of the derivatives. Plots for each output variable another heatmap.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pandas.Dataframe</em>) – Dataframe with columns “out_param”, “in_param”, “trajectory”, “deriv”.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="scripts.plot_many_traj.plot_corr">
<code class="sig-prename descclassname">scripts.plot_many_traj.</code><code class="sig-name descname">plot_corr</code><span class="sig-paren">(</span><em class="sig-param">dic</em><span class="sig-paren">)</span><a class="headerlink" href="#scripts.plot_many_traj.plot_corr" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the correlation matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dic</strong> (<em>dic</em>) – Dictionary from the function “correlation”.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="scripts.plot_many_traj.plot_heat">
<code class="sig-prename descclassname">scripts.plot_many_traj.</code><code class="sig-name descname">plot_heat</code><span class="sig-paren">(</span><em class="sig-param">df_dict</em>, <em class="sig-param">prefix</em><span class="sig-paren">)</span><a class="headerlink" href="#scripts.plot_many_traj.plot_heat" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a heatmap where the x-axis consists of timesteps and the y-axis
are the input parameters of the model. The colormap corresponds to the
derivative. Plots several heatmaps for each dataframe in df_dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_dict</strong> (<em>dic of pandas.Dataframe</em>) – A dictionary of pandas.Dataframe with key the output parameter
and the columns the input parameters and values are the
derivatives.</p></li>
<li><p><strong>prefix</strong> (<em>string</em>) – Prefix of the filename where the plot shall be stored.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="scripts.plot_many_traj.plot_line">
<code class="sig-prename descclassname">scripts.plot_many_traj.</code><code class="sig-name descname">plot_line</code><span class="sig-paren">(</span><em class="sig-param">df_dict</em>, <em class="sig-param">prefix</em><span class="sig-paren">)</span><a class="headerlink" href="#scripts.plot_many_traj.plot_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a lineplot where the x-axis consists of timesteps and the y-axis
are the derivatives of the input parameters of the model.
The colormap corresponds to the derivative, where brighter colors are
overall more significant. Plots several lineplots for each dataframe in
df_dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_dict</strong> (<em>dic of pandas.Datafram</em>) – A dictionary of pandas.Dataframe with key the output parameter
and the columns the input parameters and values are the
derivatives.</p></li>
<li><p><strong>prefix</strong> (<em>string</em>) – Prefix of the filename where the plot shall be stored.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="scripts.plot_many_traj.plot_line_res">
<code class="sig-prename descclassname">scripts.plot_many_traj.</code><code class="sig-name descname">plot_line_res</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">prefix</em><span class="sig-paren">)</span><a class="headerlink" href="#scripts.plot_many_traj.plot_line_res" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a lineplot where the x-axis consists of timesteps and the y-axis
are the absolute values of the output parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.Dataframe</em>) – A pandas.Dataframe with the columns the output parameters.</p></li>
<li><p><strong>prefix</strong> (<em>string</em>) – Prefix of the filename where the plot shall be stored.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="scripts.plot_many_traj.plot_traj">
<code class="sig-prename descclassname">scripts.plot_many_traj.</code><code class="sig-name descname">plot_traj</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">out_param</em>, <em class="sig-param">filename=None</em>, <em class="sig-param">trajs=None</em>, <em class="sig-param">max_time=None</em>, <em class="sig-param">lat_key='lat'</em>, <em class="sig-param">lon_key='lon'</em><span class="sig-paren">)</span><a class="headerlink" href="#scripts.plot_many_traj.plot_traj" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the output parameters of a simulation of trajectories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.Dataframe</em>) – Dataframe with columns “lon” and “lat” and a column for each out_param.</p></li>
<li><p><strong>out_param</strong> (<em>String</em>) – Parameter to plot such as “T” or “qr”.</p></li>
<li><p><strong>filename</strong> (<em>string</em>) – Where to store the image.</p></li>
<li><p><strong>trajs</strong> (<em>list of int</em>) – List of trajectory indices to plot.</p></li>
<li><p><strong>max_time</strong> (<em>float</em>) – Maximum time to plot.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="scripts.plot_many_traj.plot_weather_deriv">
<code class="sig-prename descclassname">scripts.plot_many_traj.</code><code class="sig-name descname">plot_weather_deriv</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">in_param</em>, <em class="sig-param">out_param</em>, <em class="sig-param">filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#scripts.plot_many_traj.plot_weather_deriv" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the derivatives of the trajectories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.Dataframe</em>) – Dataframe with columns “out_param”, “in_param”, “trajectory”, “deriv”,
“LONGITUDE” and “LATITUDE”.</p></li>
<li><p><strong>in_param</strong> (<em>String</em>) – Input parameter of the simulation to plot, such as “dzeta” or “dbeta_r”.</p></li>
<li><p><strong>out_param</strong> (<em>String</em>) – Output parameter of the simulation to plot, such as “S”, “T”, “qr”.</p></li>
<li><p><strong>filename</strong> (<em>string</em>) – Where to store the image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>df with additional columns “xm” and “ym” for projected coordinates.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.Dataframe</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="plot_trajectories.html" class="btn btn-neutral float-right" title="plot_trajectories" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="plot_heat.html" class="btn btn-neutral float-left" title="plot_heat" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Maicon Hieronymus

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>